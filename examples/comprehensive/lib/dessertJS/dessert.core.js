!function(){"use strict";define(["./dessert.application","./dessert.common","./dessert.init","./dessert.singlepage.init","./dessert.routing","./dessert.customtag","./dessert.jquery.extend"],function(t,n,i,s,e,r,c){function o(t){t.modules.each(function(){this.controllers.each(function(){this.instance&&l.isFunction(this.instance.destroy)&&this.instance.destroy(),this.instance=null})}),t.components.each(function(){n.utils.isArray(this.constructorInstances)&&(this.constructorInstances.forEach(function(t){t&&l.isFunction(t.destroy)&&(t.destroy(),t=null)}),this.constructorInstances.length=0)})}var u={},a=n.selectors,h=n.attrs,l=n.utils,f={init:function(t,n,e,o,u){var l=null;t.providers.jquery&&(l=t.providers.jquery);var f=l("["+h.app+"="+t.name+"]"),d=f.find(a.page);return c(l),r.init(t),!o&&d.length>0?s(t,d):i(f,t,e,o,u,n),this},pageInit:function(t,n){return this.init(t,null,n,!0,!1),this},hashInit:function(t,n){return this.init(t,null,n,!1,!0),this}},d={preinit:function(t){return t.call(this),this},init:function(t,n){require(t,function(){f.init(n)})},app:function i(s,r){var i;return u[s]?i=u[s]:(i=new t(s,f),u[s]=i),e.onRouteChange(function(){o(i),f.hashInit(i,[])}),n.utils.isFunction(r)&&r.call(i,i),i}};return d})}();