!function(){"use strict";define(["./dessert.application","./dessert.common","./dessert.init","./dessert.singlepage.init","./dessert.routing","./dessert.customtag","./dessert.jquery.extend"],function(t,n,s,i,e,r,o){function c(t){t.modules.each(function(){this.controllers.each(function(){this.instance&&l.isFunction(this.instance.destroy)&&this.instance.destroy(),this.instance=null})}),t.components.each(function(){n.utils.isArray(this.constructorInstances)&&(this.constructorInstances.forEach(function(t){t&&l.isFunction(t.destroy)&&(t.destroy(),t=null)}),this.constructorInstances.length=0)})}var u={},a=n.selectors,h=n.attrs,l=n.utils,d={init:function(t,n,e,c,u){var l=null;t.providers.jquery&&(l=t.providers.jquery);var d=l("["+h.app+"="+t.name+"]"),f=d.find(a.page);return o(l),r.init(t),!c&&f.length>0?i(t,f):s(d,t,e,c,u,n),this},pageInit:function(t,n){return this.init(t,null,n,!0,!1),this},hashInit:function(t,n){return this.init(t,null,n,!1,!0),this}},f={app:function s(i,r){var s;return u[i]?s=u[i]:(s=new t(i,d),u[i]=s),e.onRouteChange(function(){c(s),d.hashInit(s,[])}),n.utils.isFunction(r)&&r.call(s,s),s}};return f})}();