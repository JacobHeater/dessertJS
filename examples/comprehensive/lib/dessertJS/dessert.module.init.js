!function(){"use strict";define(["./dessert.controller.init","./dessert.common","./dessert.page","./dessert.routing"],function(t,e,n,i){var r=e.selectors,o=e.attrs;return function(s,a,u,d){var c=null;a.providers.jquery&&(c=a.providers.jquery);var l,f,m,p,v,g,h;f=s.find(r.module),m=s.find(r.page).eq(0),m&&m.length>0&&(l=new n(a,m,u),i.hasRoute()||i.setRoute(m.attr(o.page),u)),0===f.length?(g=s.find(r.view),g.each(function(){h=c(this),h.wrap("<div />").parent().attr(o.module,h.attr(o.view).concat("$partial"))}),c(r.mask).removeAttr(o.mask),e.utils.isFunction(a.maskLifted)&&a.maskLifted()):f.each(function(){p=c(this),v=a.modules.get(p.attr(o.module)),v&&(v.$module=p,c.isFunction(v.onInit)&&v.onInit.call(v,v),t(p,v,a,u,l,d))}),"function"==typeof d&&d(a,s,u)}})}();