!function(){"use strict";define("dessert.controller",[],function(){function t(t,e,n,r,i){var o=[],s=!1;this.name=t||"",this.module=e,this.app=n,this.$controller=r,this.onInit=function(){},this.constructor=i||function(){},this.constructor.prototype.scope=function(){},this.constructor.prototype.destroy=function(){},this.constructor.prototype.init=function(){},this.constructor.prototype.initData=function(){return{}},Object.defineProperties(this.constructor.prototype,{ready:{writable:!1,value:function(t){return"function"==typeof t&&o.push(t),this}},notify:{writable:!1,value:function(){var t=this;o.forEach(function(e){e.call(t,t)}),o.length=0}},dataBind:{writable:!1,value:function(t){if(n.providers.IDataBindingProvider){var e=n.providers.IDataBindingProvider.bindTemplateToData(t,this.initData());return e}return t}},isAsync:{get:function(){return s},set:function(t){"boolean"==typeof t&&(s=t)}},bindTemplateToData:{writable:!1,value:function(t,e){return n.providers.IDataBindingProvider&&(t=n.providers.IDataBindingProvider.bindTemplateToData(t,e)),t}}}),this.instance=null}return t})}(),function(){"use strict";function t(){function t(t,e,n){Object.defineProperty(t,e,{writable:!1,value:n})}function e(e,n){"object"==typeof n&&Object.keys(n).forEach(function(r){t(e,r,n[r])})}var n={};e(n,{app:"dsrt-app",module:"dsrt-module",controller:"dsrt-controller",view:"dsrt-view",component:"dsrt-component",control:"dsrt-control",controlGroup:"dsrt-control-group",model:"dsrt-model",mask:"dsrt-mask",src:"dsrt-src",rpt:"dsrt-repeat",page:"dsrt-page",id:"id"});var r={};e(r,{app:"[$app]".replace("$app",n.app),module:"[$module]".replace("$module",n.module),controller:"[$controller]".replace("$controller",n.controller),view:"[$view]".replace("$view",n.view),component:"[$component]".replace("$component",n.component),control:"[$control]".replace("$control",n.control),controlGroup:"[$controlGroup]".replace("$controlGroup",n.controlGroup),model:"[$model]".replace("$model",n.model),mask:"[$mask]".replace("$mask",n.mask),src:"[$src]".replace("$src",n.src),rpt:"[$rpt]".replace("$rpt",n.rpt),page:"[$page]".replace("$page",n.page),id:"[$id]".replace("$id",n.id)});var i={},o={};e(o,{src:1,templates:2});var s={};return e(s,{emptyString:"",noop:function(){},getOuterHtml:function(t){var e=t,n=e.wrap("<div />"),r=n.parent().html();return e.unwrap("<div />"),r},cleanPath:function(t){var e=/[a-z]+:\/\//gim,n=/\/\//gim,r=t.split(e),i="",o="";return r.length>1?(i=r[0],o=r[1],o=o.replace(n,"/")):(i=r[0],i=i.replace(n,"/")),i+o},parseQueryString:function(t){var e={};if(t&&t.indexOf("?")>-1){var n=t.split("?"),r=n[1],i=r.split("&");i.forEach(function(t){var n=t.split("="),r=n[0],i=n[1];try{i=JSON.parse(i)}catch(t){i=n[1]}e[r]=i})}return e},cleanQueryString:function(t){return t?t.split("?")[0]:t},getElementAttrs:function(t,e){var n={};if(e=this.isArray(e)?e:[],t){var r=t.get(0);if(r){var i=r.attributes;i.length&&Object.keys(i).forEach(function(t){var r=i[t];"undefined"!=typeof r.nodeValue&&r.nodeName&&e.indexOf(r.nodeName)===-1&&(n[r.nodeName]=r.nodeValue)})}}return n},isObject:function(t){return"object"==typeof t},isFunction:function(t){return"function"==typeof t},isArray:function(t){return Array.isArray(t)},isString:function(t){return"string"==typeof t},addReadOnlyProperty:function(e,n,r){return t(e,n,r),this},addReadOnlyProperties:function(t,n){return e(t,n),this},defer:function(t,e){e=e&&Array.isArray(e)?e:[],this.isFunction(t)&&setTimeout(function(){t.apply(null,e)},0)}}),{attrs:n,selectors:r,regex:i,utils:s,pathTypes:o}}define("dessert.common",[],t)}(),function(){"use strict";define("dessert.module",["dessert.controller","dessert.common"],function(t,e){function n(n,i,o,s,c){var a={};this.name=n||"",this.controller=function(e,n){return a[e]=new t(e,this,i,void 0,n),a[e]},this.controllers={get:function(t){return a[t]},remove:function(t){return delete a[t],this},each:function(t){return r.isFunction(t)&&Object.keys(a).forEach(function(e){t.call(a[e],a[e])}),this}},this.$module=o,this.globals=c||{},this.app=i,this.onInit=e.utils.isFunction(s)?s:function(){},this.getPath=function(t,e){return t===i.pathTypes.src?{path:i.src+e+".html"}:t===i.pathTypes.templates?{path:i.templates+e+".html"}:void 0},this.src=function(t){return this.getPath(i.pathTypes.src,t)},this.template=function(t){return this.getPath(i.pathTypes.templates,t)}}var r=e.utils;return n})}(),function(){"use strict";define("dessert.httphandlercache",[],function(){function t(){function t(t,e,n){if(!t||!e||"function"!=typeof n)throw new Error("Invalid HTTP handler! Arguments must be defined as: {String} name, {Number} httpStatusCode, {Function} handler.");this.name=t,this.statusCode=e,this.handler=n}var e=[];this.getHandlersByStatusCode=function(t){return e.filter(function(e){return e.statusCode===t})},this.getHandlersByName=function(t){return e.filter(function(e){return e.name===t})},this.addHandler=function(n,r,i){return e.push(new t(n,r,i)),this},this.removeHandler=function(t){var n=e.filter(function(e){return e.name===t});return n.forEach(function(t){var n=e.indexOf(t);e.splice(n,1)}),this}}return t})}(),function(){"use strict";function t(){return e}function e(){var t={},n={},r={},i=this,o=!0,s=function(i){var o;switch(i){case e.TYPE.COMPONENT:o=t;break;case e.TYPE.EXTERNAL_MODULE:o=n;break;case e.TYPE.TEMPLATE:o=r}return o};this.componentCache={TYPE:e.TYPE.COMPONENT,addEntry:function(t,e){return i.addEntry(this.TYPE,t,e),this},getEntry:function(t){return i.getEntry(this.TYPE,t)},removeEntry:function(t){return i.removeEntry(this.TYPE,t),this},getHashTable:function(){return i.getHashTable(this.TYPE)}},this.templateCache={TYPE:e.TYPE.TEMPLATE,addEntry:function(t,e){return i.addEntry(this.TYPE,t,e),this},getEntry:function(t){return i.getEntry(this.TYPE,t)},removeEntry:function(t){return i.removeEntry(this.TYPE,t),this},getHashTable:function(){return i.getHashTable(this.TYPE)}},this.externalModuleCache={TYPE:e.TYPE.EXTERNAL_MODULE,addEntry:function(t,e){return i.addEntry(this.TYPE,t,e),this},getEntry:function(t){return i.getEntry(this.TYPE,t)},removeEntry:function(t){return i.removeEntry(this.TYPE,t),this},getHashTable:function(){return i.getHashTable(this.TYPE)}},this.addEntry=function(t,e,n){if(this.enabled){var r=s(t);r&&(r[e]=n)}return this},this.getEntry=function(t,e){var n;if(this.enabled){var r=s(t);r&&(n=r[e])}return n},this.removeEntry=function(t,e){if(this.enabled){var n=s(t);n&&delete n[e]}return this},this.getHashTable=function(t){var e;return this.enabled&&(e=s(t)),e},Object.defineProperties(this,{enabled:{get:function(){return o},set:function(t){"boolean"==typeof t&&(o=t)}}})}define("dessert.cache",t),Object.defineProperties(e,{TYPE:{writable:!1,value:{COMPONENT:1,EXTERNAL_MODULE:2,TEMPLATE:3}}})}(),function(){"use strict";function t(){var t={IDataBindingProvider:e};return t}function e(t){if(this.bindTemplateToData=function(){throw new n("IDataBindingProvider","bindTemplateToData")},"object"!=typeof t)throw new InvalidArgumentError("implementation","object");Object.keys(t).forEach(function(e){this.hasOwnProperty(e)&&(this[e]=t[e])}.bind(this))}function n(t,e){var n='Method "'+e+'" not implemented in interface "'+t+'"!';return Error.call(this),this.message=n,this}define("dessert.interfaces",t),n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}(),function(){"use strict";function t(t,e,n,r,i){function o(r,o,s){var a={},u={IDataBindingProvider:null,jquery:null},d={},l={},f=[],p=this;this.name=r||"",this.module=function(e,n,r){return a[e]=new t(e,this,void 0,n,r),a[e]},this.modules={get:function(t){return a[t]},remove:function(t){return delete a[t],this},each:function(t){return c.isFunction(t)&&Object.keys(a).forEach(function(e){t.call(a[e],a[e])}),this}},this.init=function(t,e){return o.init(this,t,e),this},this.pageInit=function(t){return o.pageInit(this,t),this},this.httpHandlers={page:new n};var h=!1;Object.defineProperty(this,"initialized",{get:function(){return h},set:function(t){"boolean"==typeof t&&(h=t)}}),this.components={register:function(t){return e.utils.isArray(t)&&t.forEach(function(t){d[t.name]=t.entry}),this},get:function(t){return d[t]},each:function(t){if(c.isFunction(t)){var e=p.cache.componentCache.getHashTable();Object.keys(e).forEach(function(n){t.call(e[n],e[n])})}return this}},this.registerTags=function(t){e.utils.isArray(t)&&t.forEach(function(t){l[t.name]=t})},this.getCustomTags=function(){var t=[];return Object.keys(l).forEach(function(e){t.push(l[e])}),t},this.trackedElements={add:function(t){return f.push(t),this},destroyAll:function(){f.forEach(function(t){t.off().off("**"),t.children().off().off("**")})}},this.$app=s,Object.defineProperty(this,"providers",{writable:!1,value:{}}),Object.defineProperties(this.providers,{IDataBindingProvider:{get:function(){return u.IDataBindingProvider},set:function(t){t&&t instanceof i.IDataBindingProvider&&(u.IDataBindingProvider=t)}},jquery:{get:function(){return u.jquery},set:function(t){t&&t.fn&&t.fn.jquery&&(u.jquery=t)}}})}var s=e.utils.emptyString,c=e.utils;return o.prototype.pathTypes=e.pathTypes,o.prototype.dsrtPath=s,o.prototype.templates=s,o.prototype.src=s,o.prototype.maskLifted=function(){},o.prototype.cache=new r,Object.defineProperties(o.prototype.cache,{TYPE:{writable:!1,value:r.TYPE}}),o}define("dessert.application",["dessert.module","dessert.common","dessert.httphandlercache","dessert.cache","dessert.interfaces"],t)}(),function(){"use strict";function t(){return{jquery:null,get:function(t){return this.jquery.ajax({type:"GET",url:t,cache:!0,async:!0})},post:function(t,e){return this.jquery.ajax({type:"POST",url:t,cache:!0,async:!0,data:e,contentType:"application/json; charset=utf-8",dataType:"json"})}}}define("dessert.ajax",t)}(),function(){"use strict";define("dessert.routing",[],function(){function t(t){var e="";return t&&t.length&&t.length>0&&(e+="/:",e+=t.map(function(t){return t.key.concat("=").concat(escape(t.value))}).reduce(function(t,e){return t.concat("&").concat(e)})),e}function e(t){return t.replace(/[#]+/g,"")}function n(t){var e=/(#\/[\w\d\/&=:]+)/gi;return e.test(t)}function r(t){return(t.split("#")[1]||"").indexOf(":")>-1}var i=window.location;return{hasRoute:function(t){var e=t||i.href;return n(e)},setRoute:function(r,o){var s=i.href;o&&(r+=t(o)),n(i.href)&&(s=i.href.split("#")[0]),i.href=e(s).concat("#").concat(r)},getRoute:function(t){var e=t||i.href,n=e.split("#")[1]||"",r=n.split(":")[0]||"",o=/\/$/gim;return r.match(o)&&(r=r.replace(o,"")),r},getParams:function(t){var e=/[a-z]+:\/\//gim,n=t||i.href;e.test(n)&&(n=n.replace(i.protocol.concat("//").concat(i.host).concat("/"),""));var o=[],s="";return r(n)&&(s=n.split(":")[1],o=s.split("&"),o=o.map(function(t){var e=t.split("=");return{key:e[0]||"",value:unescape(e[1]||"")}})),o},onRouteChange:function(t){var e=this;window.addEventListener("hashchange",function(){e.hasRoute()?t():window.location.href=document.referrer.trim()||window.location.href})}}})}(),define("dessert.customtag",["dessert.common"],function(t){"use strict";function e(e){this.renderAs=t.utils.emptyString,this.renderAsValue=t.utils.emptyString,this.name=t.utils.emptyString,this.tag=t.utils.emptyString,this.replaceWith=t.utils.emptyString,Object.assign(this,e)}var n=t.attrs,r={create:function(t,n){return new e(t,n)},types:{externalModule:t.attrs.src,control:t.attrs.control,component:t.attrs.component},init:function(e){var r,i=null;e.providers.jquery&&(i=e.providers.jquery),e&&e.getCustomTags&&e.getCustomTags().forEach(function(e){r=i(e.tag),r.each(function(){var r,o,s,c=e.replaceWith.trim().length>0?e.replaceWith:"<div></div>",a=["id"];switch(r=i(this),o=i(c),o.attr(e.renderAs,e.renderAsValue),e.renderAs){case n.component:a.length=0;break;case n.src:break;case n.control:o.attr(e.renderAs,r.prop("id"))}s=t.utils.getElementAttrs(r,a),Object.keys(s).forEach(function(t){o.attr(t,s[t])}),r.replaceContent(o)})})}};return r}),function(){"use strict";define("dessert.externalmodules.init",["dessert.common","dessert.ajax","dessert.routing","dessert.customtag"],function(t,e,n,r){return function i(o,s,c){function a(t,c){function a(a){if(d=g.eq(a),f=y.parseQueryString(d.attr(v.src)),p=y.cleanQueryString(d.attr(v.src)),l=y.cleanPath("$base$modulePath.html".replace("$base",s.src).replace("$modulePath",p)),l&&!/undefined/g.test(l)){var E=function(e){h=u(e),0===h.length&&"string"==typeof e&&e.trim().length&&(h=e),d.is(m.page)?(d.setContent(h),d.removeAttr(v.src)):d.attr("embed")&&"true"===d.attr("embed").toLowerCase()?(d.setContent(h),d.removeAttr(v.src)):d.replaceContent(h),r.init(s),g.length&&i(o,s)(t,c)},b=s.cache.externalModuleCache.getEntry(l);b?E(b):e.get(l).done(function(t){s.cache.externalModuleCache.addEntry(l,t),E(t)}).fail(function(t){d.is(m.page)&&s.httpHandlers.page.getHandlersByStatusCode(t.status).forEach(function(e){e.handler(t,n)})})}}g.length>0?a(0):t(c)}var u=null;s.providers.jquery&&(u=s.providers.jquery,e.jquery=u);var d,l,f,p,h,m=t.selectors,v=t.attrs,y=t.utils,g=c?o.find(m.page):o.find(m.src);return a}})}(),function(){"use strict";function t(){return function(t,e){e&&e.length&&e.concat&&e.shift&&e.splice&&e.pop&&e.map&&e.map(function(e){t[e]={listeners:[],addListener:function(t){return"function"==typeof t&&this.listeners.push(t),this},removeListener:function(t){var e=this.listeners.indexOf(t);return e>-1&&this.listeners.splice(e,1),this},trigger:function(){for(var t=0,e=this.listeners.length;t<e;t++)this.listeners[t].apply(null,arguments);return this}}})}}define("dessert.events",[],t)}(),function(){"use strict";function t(){function t(t){return n.forEach(function(e){t=t.replace(e.regex,e.repl)}),t}var e={cleanupDeferredAttrs:t},n=[{regex:/deferred-src/gim,repl:"src"}];return e}define("dessert.databinding",t)}(),function(){"use strict";define("dessert.control.repeat",["dessert.ajax","dessert.common","dessert.databinding"],function(t,e,n){var r=e.selectors;return function(e,i){var o=null,s=null;return i.providers.IDataBindingProvider&&(s=i.providers.IDataBindingProvider),i.providers.jquery&&(o=i.providers.jquery,t.jquery=o),function(c,a,u){var d,l,f,p,h,m,v=[],y=Object.assign({clear:!0},u),g=function(t){var r=t.map(function(t){return o("<div />").append(o(t).clone()).html()}).join("");y.clear===!0&&e.children().remove(),r=n.cleanupDeferredAttrs(r),e.append(p?p.append(r):r),"function"==typeof y.done&&y.done()};if(c&&c.length)if(d=function(t){for(var e=0;e<c.length;e++)t(c[e])},l=s.bindTemplateToData,"string"==typeof a)f=a,p="",h=o(f),1===h.find(r.rpt).length&&(f=h.find(r.rpt).eq(0).html(),h.find(r.rpt).remove(),p=h),d(function(t){m=l(f,t),v.push(m)}),g(v);else if("object"==typeof a){var E=i.cache.templateCache.getEntry(a.path),b=function(t){f=t,p="",h=o(f),1===h.find(r.rpt).length&&(f=h.find(r.rpt).eq(0).html(),h.find(r.rpt).remove(),p=h),d(function(t){m=l(f,t),v.push(m)}),g(v)};E?b(E):t.get(a.path).then(function(t){i.cache.templateCache.addEntry(a.path,t),b(t)})}return this}}})}(),function(){"use strict";function t(t){function e(){var e=t.utils.noop;this.resolve=function(t){return e=t,this},this.notify=function(n,r){return r=Array.isArray(r)?r:[],t.utils.isFunction(e)&&e.apply(n,r),this}}return e}var e=["dessert.common"];define("dessert.asyncresource",e,t)}(),define("dessert.asyncresource",function(){}),function(){"use strict";function t(t,r){return i=t,o=r,s=t.attrs,{renderComponent:n,renderControl:e}}function e(t,e,n,r,i){t.trackedElements.add(n),i&&i.append(n),e.controls.add({name:r,elem:n,view:e,app:t})}function n(t,e,n,c,a,u){var a,d;if(t.trackedElements.add(n),d=t.components.get(c),a=a||n.prop(s.id),e.components[a]=new o,d)if(i.utils.isString(d)){var l=t.cache.componentCache.getEntry(d);l?i.utils.defer(function(){r(e,l,a,n,t,u)}):require([d],function(i){if(i){var o=new i;t.cache.componentCache.addEntry(d,o),r(e,o,a,n,t,u)}})}else i.utils.isFunction(d)&&i.utils.defer(function(){var i,o=t.cache.componentCache.getEntry(c);o?i=o:(i=new d,t.cache.componentCache.addEntry(c,i)),r(e,i,a,n,t,u)})}function r(t,e,n,r,i,o){var s;e&&r&&e.render(function(c){o?r.append(c):r.replaceContent(c),s=new e.constructor(c),i.providers.IDataBindingProvider&&(s.bindTemplateToData=i.providers.IDataBindingProvider.bindTemplateToData),Array.isArray(e.constructorInstances)&&e.constructorInstances.push(s),t.components[n].notify(s,[s])})}var i,o,s;define("dessert.viewhelpers",["dessert.common","dessert.asyncresource"],t)}(),function(){"use strict";define("dessert.control.extensions",["dessert.control.repeat","dessert.common","dessert.ajax","dessert.databinding","dessert.viewhelpers"],function(t,e,n,r,i){var o=e.attrs;return function(s,c,a){var u=null,d=null;c.providers.IDataBindingProvider&&(d=c.providers.IDataBindingProvider),c.providers.jquery&&(u=c.providers.jquery,n.jquery=u),s.dsrt.bind=function(t){return t&&(s.val(t[s.attr(o.control)]),s.on("keyup keydown change",function(){t[u(this).attr(o.control)]=u(this).val()||u(this).text()})),this},s.dsrt.watch=function(t){return"function"==typeof t&&s.on("keyup keydown change",function(){t.call(u(this))}),this},s.dsrt.dataBind=function(t){if(t){var e=d.bindTemplateToData(s.html(),t);e=r.cleanupDeferredAttrs(e),s.html(e)}return this},s.dsrt.src=function(t){return{path:t}},s.dsrt.on=function(t,e){return s.on(t,e),this},s.dsrt.jq=s,s.dsrt.load=function(t,e){var r=s.dsrt.view.controller.module.app,i=r.dsrtPath;require([i.concat("dsrt.context.init"),i.concat("dsrt.externalmodules.init")],function(i,o){n.get(t.path).then(function(t){s.children().remove(),s.append(t);var n=o(s,r);n(0,function(){i(s,s.dsrt.view.controller.module.app,{},e)})})})},s.dsrt.outerHtml=function(t){return e.utils.getOuterHtml(t)},s.dsrt.inject=function(t){if("object"==typeof t){var n="component",r="control",o=!0,u=Object.assign({type:"",name:"",control:null,target:null,callback:null,id:""},t);switch(u.type.toLowerCase()){case n:i.renderComponent(c,a,s,u.name,u.id,o);break;case r:i.renderControl(c,a,u.control,u.name,u.target)}e.utils.isFunction(u.callback)&&u.callback(a)}return this},s.dsrt.repeat=t(s,c)}})}(),function(){"use strict";function t(t){function e(e,n,r,i){return n.dsrt=n.dsrt||{},n.dsrt.name=e,n.dsrt.view=r,n.destroy=function(){n.remove()},t(n,i,r),n}return e}define("dessert.control",["dessert.control.extensions"],t)}(),function(){"use strict";define("dessert.view",["dessert.common","dessert.events","dessert.control"],function(t,e,n){function r(r,i,o,s,c,a){this.name=i||"",this.app=o,this.module=s,this.viewArgs=a,this.controller=c,this.$view=r,this.destroy=function(){this.$view.remove(),delete this.controller,delete this.$view},this.configureEvents=function(){return e(this,Array.apply(null,arguments)),this},this.controls={add:function(e){return t.utils.isObject(e)&&(this[e.name]=new n(e.name,e.elem,e.view,e.app)),this},get:function(t){return this[t]},remove:function(t){return delete this[t],this}},this.controlGroups={},this.components={}}return r.prototype.refresh=function(){},r})}(),function(){"use strict";define("dessert.model",[],function(){function t(t){"object"==typeof t&&Object.keys(t).forEach(function(e){this[e]=t[e]}.bind(this))}return t})}(),function(){"use strict";define("dessert.component",["dessert.common"],function(t){function e(){}function n(t){return t.prototype=Object.create(this.prototype),t.prototype.constructor=t,t.extend=n.bind(t),t}return e.prototype.constructor=t.utils.noop,e.prototype.constructor.bindTemplateToData=t.utils.noop,e.prototype.constructor.prototype.destroy=t.utils.noop,e.prototype.constructorInstances=[],e.prototype.render=t.utils.noop,e.prototype.instance=null,e.extend=n.bind(e),e})}(),function(){"use strict";function t(t,e,n,r,i,o){return function i(s,c,a,u,d,l,f,p){var h=null,m=t.selectors,v=t.attrs;u.providers.jquery&&(h=u.providers.jquery);var y,g,E,b,T,w,j,P,O,A,C,k;if(!f&&c&&c.instance&&t.utils.isFunction(c.instance.dataBind)){var q=c.instance.dataBind(s.outerHtml()),I=h(q);s.replaceContent(I),s=I}if(u.trackedElements.add(s),g=s.find(m.control),y=s.find(m.component),w=new e(s,s.attr(v.view),u,a,c,d,l),w.refresh=function(t){var e=t||s;return r.init(u),i(e,c,a,u,d,l,!0,k),this},j={},P=s.find(m.model),E=s.find(m.controlGroup),y.each(function(){var t=$(this),e=t.attr(v.component);o.renderComponent(u,w,t,e)}),P.each(function(){O=h(this),u.trackedElements.add(O),j[O.attr(v.control)]=t.utils.emptyString}),g.each(function(){A=h(this),C=A.attr(v.control),o.renderControl(u,w,A,C)}),E.each(function(){T=h(this),u.trackedElements.add(T),b=T.attr(v.controlGroup),w.controlGroups[b]||(w.controlGroups[b]=[]),w.controlGroups[b].push(T)}),k=f?p:new n(j),c&&c.instance){var D={view:w,model:k,module:a,page:l,args:d};c.instance.scope(D),f||c.instance.isAsync||c.instance.init()}}}define("dessert.viewbuilder",["dessert.common","dessert.view","dessert.model","dessert.customtag","dessert.component","dessert.viewhelpers"],t)}(),function(){"use strict";function t(t,e){var n=t.selectors,r=t.attrs;return function(i,o,s,c,a,u,d,l){var f=null;a.providers.jquery&&(f=a.providers.jquery);var p;p=i?i.find(n.view):c.find(n.view);var h;p.each(function(){h=f(this),e(h,o,s,a,u,d)}),f(n.mask).removeAttr(r.mask),t.utils.isFunction(a.maskLifted)&&a.maskLifted(),t.utils.isFunction(l)&&l()}}define("dessert.view.init",["dessert.common","dessert.viewbuilder"],t)}(),function(){"use strict";define("dessert.controller.init",["dessert.common","dessert.view.init"],function(t,e){var n=t.selectors,r=t.attrs;return function(t,i,o,s,c,a){var u=null;o.providers.jquery&&(u=o.providers.jquery);var d,l,f=t.find(n.controller);f.length>0?f.each(function(){d=u(this),a||(l=i.controllers.get(d.attr(r.controller)),l&&(l.$controller=d,u.isFunction(l.onInit)&&l.onInit(),l.instance||l.instance instanceof l.constructor||(l.instance=new l.constructor),l.instance.isAsync?(l.instance.ready(function(){e(d,l,i,t,o,s,c,a)}),l.instance.init()):e(d,l,i,t,o,s,c,a)))}):e(d,l,i,t,o,s,c,a)}})}(),function(){"use strict";define("dessert.page",["dessert.routing"],function(t){function e(e,n,r){this.app=e,this.route=function(e,n){t.setRoute(e,n)},this.$page=n,this.args=r||[]}return e})}(),function(){"use strict";define("dessert.module.init",["dessert.controller.init","dessert.common","dessert.page","dessert.routing"],function(t,e,n,r){var i=e.selectors,o=e.attrs;return function(e,s,c,a){var u=null;s.providers.jquery&&(u=s.providers.jquery);var d,l,f,p,h,m,v;l=e.find(i.module),0===l.length&&(m=e.find(i.view),m.each(function(){v=u(this),v.wrap("<div />").parent().attr(o.module,v.attr(o.view).concat("$partial"))}),l=e.find(i.module)),f=e.find(i.page).eq(0),f&&f.length>0&&(d=new n(s,f,c),r.hasRoute()||r.setRoute(f.attr(o.page),c)),l.each(function(){p=u(this),h=s.modules.get(p.attr(o.module)),h&&(h.$module=p,u.isFunction(h.onInit)&&h.onInit.call(h,h),t(p,h,s,c,d,a))}),"function"==typeof a&&a(s,e,c)}})}(),function(){"use strict";function t(t){return function(e,n,r,i,o){t(e,n,r,i,o)}}define("dessert.context.init",["dessert.module.init"],t)}(),function(){"use strict";define("dessert.syncmodules.init",["dessert.context.init","dessert.customtag"],function(t,e){return function(n,r,i){return function(o){e.init(r),t(n,r,i,o)}}})}(),function(){"use strict";define("dessert.init",["dessert.externalmodules.init","dessert.syncmodules.init","dessert.common"],function(t,e,n){return function(r,i,o,s,c,a){var u;i.initialized?u=s?r.find(n.selectors.page).parent():r:(u=r,i.initialized=!0);var d=t(u,i,s),l=e(u,i,o);c?d(function(){},a):d(l,a)}})}(),function(){"use strict";define("dessert.singlepage.init",["dessert.routing","dessert.common"],function(t,e){var n=e.attrs;return function(e,r){var i=t.getRoute(),o=t.getParams();if(i&&o)r.attr(n.src,i),e.pageInit(o);else if(r.attr(n.page)){var i=r.attr(n.page);t.hasRoute(i)||(i="#".concat(i)),i=t.getRoute(i);var o=t.getParams(i);r.attr(n.src,i),e.pageInit(o)}}})}(),function(){"use strict";function t(){return function(t){return t.fn.setContent=function(t){return this.html("").append(t)},t.fn.replaceContent=function(t){return this.replaceWith(t)},t.fn.outerHtml=function(){return this.get(0).outerHTML},t}}define("dessert.jquery.extend",t)}(),function(){"use strict";define("dessert.core",["dessert.application","dessert.common","dessert.init","dessert.singlepage.init","dessert.routing","dessert.customtag","dessert.jquery.extend"],function(t,e,n,r,i,o,s){function c(t){t.modules.each(function(){this.controllers.each(function(){this.instance&&l.isFunction(this.instance.destroy)&&this.instance.destroy(),this.instance=null})}),t.components.each(function(){e.utils.isArray(this.constructorInstances)&&(this.constructorInstances.forEach(function(t){t&&l.isFunction(t.destroy)&&(t.destroy(),t=null)}),this.constructorInstances.length=0)})}var a={},u=e.selectors,d=e.attrs,l=e.utils,f={init:function(t,e,i,c,a){var l=null;t.providers.jquery&&(l=t.providers.jquery);var f=l("["+d.app+"="+t.name+"]"),p=f.find(u.page);return s(l),o.init(t),!c&&p.length>0?r(t,p):n(f,t,i,c,a,e),this},pageInit:function(t,e){return this.init(t,null,e,!0,!1),this},hashInit:function(t,e){return this.init(t,null,e,!1,!0),this}},p={preinit:function(t){return t.call(this),this},init:function(t,e){require(t,function(){f.init(e)})},app:function n(r,o){var n;return a[r]?n=a[r]:(n=new t(r,f),a[r]=n),i.onRouteChange(function(){c(n),f.hashInit(n,[])}),e.utils.isFunction(o)&&o.call(n,n),n}};return p})}();