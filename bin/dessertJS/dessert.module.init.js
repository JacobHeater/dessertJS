!function(){"use strict";define(["./dessert.controller.init","./dessert.common","./dessert.page","./dessert.routing"],function(e,t,n,r){var i=t.selectors,o=t.attrs;return function(t,s,u,a){var d=null;s.providers.jquery&&(d=s.providers.jquery);var c,l,f,p,m,v,g;l=t.find(i.module),0===l.length&&(v=t.find(i.view),v.each(function(){g=d(this),g.wrap("<div />").parent().attr(o.module,g.attr(o.view).concat("$partial"))}),l=t.find(i.module)),f=t.find(i.page).eq(0),f&&f.length>0&&(c=new n(s,f,u),r.hasRoute()||r.setRoute(f.attr(o.page),u)),l.each(function(){p=d(this),m=s.modules.get(p.attr(o.module)),m&&(m.$module=p,d.isFunction(m.onInit)&&m.onInit.call(m,m),e(p,m,s,u,c,a))}),"function"==typeof a&&a(s,t,u)}})}();