!function(){"use strict";define(["./dessert.control.repeat","./dessert.common","./dessert.ajax","./dessert.databinding","./dessert.viewhelpers"],function(t,r,e,n,o){var a=r.attrs;return function(i,c,s){var l=null,d=null;c.providers.IDataBindingProvider&&(d=c.providers.IDataBindingProvider),c.providers.jquery&&(l=c.providers.jquery,e.jquery=l),i.dsrt.bind=function(t){return t&&(i.val(t[i.attr(a.control)]),i.on("keyup keydown change",function(){t[l(this).attr(a.control)]=l(this).val()||l(this).text()})),this},i.dsrt.watch=function(t){return"function"==typeof t&&i.on("keyup keydown change",function(){t.call(l(this))}),this},i.dsrt.dataBind=function(t){if(t){var r=d.bindTemplateToData(i.html(),t);r=n.cleanupDeferredAttrs(r),i.html(r)}return this},i.dsrt.src=function(t){return{path:t}},i.dsrt.on=function(t,r){return i.on(t,r),this},i.dsrt.jq=i,i.dsrt.load=function(t,r){var n=i.dsrt.view.controller.module.app,o=n.dsrtPath;require([o.concat("dsrt.context.init"),o.concat("dsrt.externalmodules.init")],function(o,a){e.get(t.path).then(function(t){i.children().remove(),i.append(t);var e=a(i,n);e(0,function(){o(i,i.dsrt.view.controller.module.app,{},r)})})})},i.dsrt.outerHtml=function(t){return r.utils.getOuterHtml(t)},i.dsrt.inject=function(t){if("object"==typeof t){var e="component",n="control",a="src",l=!0,d=Object.assign({type:"",name:"",control:null,target:null,callback:null,id:"",url:""},t);switch(d.type.toLowerCase()){case e:o.renderComponent(c,s,i,d.name,d.id,l);break;case n:o.renderControl(c,s,d.control,d.name,d.target||i);break;case a:o.renderExternalModule(c,d.url,d.target||i,callback)}r.utils.isFunction(d.callback)&&d.callback(s)}return this},i.dsrt.repeat=t(i,c)}})}();