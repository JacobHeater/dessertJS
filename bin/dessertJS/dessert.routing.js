!function(){"use strict";define(function(){function t(t){var n="";return t&&t.length&&t.length>0&&(n+="/:",n+=t.map(function(t){return t.key.concat("=").concat(escape(t.value))}).reduce(function(t,n){return t.concat("&").concat(n)})),n}function n(t){return t.replace(/[#]+/g,"")}function e(t){var n=/(#\/[\w\d\/&=:]+)/gi;return n.test(t)}function r(t){return(t.split("#")[1]||"").indexOf(":")>-1}var c=window.location;return{hasRoute:function(t){var n=t||c.href;return e(n)},setRoute:function(r,o){var a=c.href;o&&(r+=t(o)),e(c.href)&&(a=c.href.split("#")[0]),c.href=n(a).concat("#").concat(r)},getRoute:function(t){var n=t||c.href,e=n.split("#")[1]||"",r=e.split(":")[0]||"",o=/\/$/gim;return r.match(o)&&(r=r.replace(o,"")),r},getParams:function(t){var n=/[a-z]+:\/\//gim,e=t||c.href;n.test(e)&&(e=e.replace(c.protocol.concat("//").concat(c.host).concat("/"),""));var o=[],a="";return r(e)&&(a=e.split(":")[1],o=a.split("&"),o=o.map(function(t){var n=t.split("=");return{key:n[0]||"",value:unescape(n[1]||"")}})),o},onRouteChange:function(t){var n=this;window.addEventListener("hashchange",function(){n.hasRoute()?t():window.location.href=document.referrer.trim()||window.location.href})}}})}();